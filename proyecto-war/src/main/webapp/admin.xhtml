<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<h:head>
       <title>Login Administrador</title>
</h:head>

<h:body>
       <h:form id="login">

              <c:choose>
                  <c:when test="#{!empty infoSesion.usuario}">
                      <p>Estás autenticado como <h:outputText value="#{infoSesion.usuario.nombreUsuario}"/>.</p>
                      <p>Para ir a la página principal, pinche <h:link outcome ="mainAdmin.xhtml" value="aquí"/></p>
                      <p>Para iniciar sesión con otra cuenta debe <h:commandLink action="#{infoSesion.invalidarSesion()}">salir</h:commandLink> primero de la aplicación</p>
                  </c:when>
  
                  <c:otherwise>
                      <h:panelGrid columns="3">
                          <h:outputText value="Nombre de usuario:"/>
                          <h:inputText id="user" required="true" value="#{login.usuario.nombreUsuario}"/>
                          <h:message id="userMessage" for="user"/>
  
                          <h:outputText value="Contraseña:"/>
                          <h:inputSecret id="pass" required="true" value="#{login.usuario.password}"/>
                          <h:message id="passwordMessage" for="pass"/>
  
                          <h:commandButton id="botonLogin" value="Entrar" action="#{login.loginAdmin()}"/>
  
                      </h:panelGrid>
  
                      <div>
                          <p>Para acceder como cliente, pinche <h:link outcome="index.xhtml">aquí</h:link></p>
                      </div>
  
                  </c:otherwise>
              </c:choose>
  
  
  
  
          </h:form>
</h:body>

</html>